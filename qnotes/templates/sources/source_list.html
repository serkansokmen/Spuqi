{% extends "base.html" %}
{% load i18n %}
{% load endless %}

{% block content %}
<a href="{% url source_add %}"><i class="icon-plus-sign"></i> {% trans "New Source" %}</a>
<table>
    <thead>
        <tr>
            <th>{% trans "Source" %}</th>
            <th>{% trans "ISBN" %}</th>
            <td>{% trans "Authors" %}</td>
        </tr>
    </thead>
    <tbody>
        {% paginate sources %}
        {% for source in sources %}
        <tr>
            <td>
                {% ifequal source current_source %}
                {{ source }}
                {% else %}
                <a href="{{ source.get_absolute_url }}" title="{{ source }}">{{ source }}</a>
                {% endifequal %}
            </td>
            <td>{{ source.isbn|default:"-" }}</td>
            <td>{% for author in source.authors.all %}{{ author }}{% if not forloop.last %}, {% endif %}{% endfor %}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% show_pages %}
{% endblock content %}
